{"version":3,"sources":["App.js","index.js"],"names":["Basic","props","useState","defaultBookJs","setDefaultBookJs","useEffect","fetch","then","response","ok","json","Promise","reject","result","items","catch","error","console","map","book","volumeInfo","title","src","imageLinks","smallThumbnail","alt","to","id","Formularz","onChange","updateDraft","value","draft","errDraft","updateDResult","dMaxResult","errResult","onClick","search","Books","books","Main","searched","Details","match","useRouteMatch","searchedBook","setSearchedBook","params","bookId","authors","publisher","description","publishedDate","avarageRating","thumbnail","App","setBooks","name","setName","setDraft","setErrDraft","setSearched","setDMaxResult","maxResult","setMaxResult","setErrResult","event","target","className","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6282af62.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,  \r\n  useRouteMatch,\r\n  useParams\r\n} from \"react-router-dom\";\r\n\r\nfunction App() {\r\n  const [books, setBooks] = useState('')\r\n  const [name, setName] = useState('')\r\n  const [draft, setDraft] = useState('')\r\n  const [errDraft, setErrDraft] = useState('')\r\n  const [searched, setSearched] = useState(false)\r\n  const [dMaxResult, setDMaxResult] = useState('')\r\n  const [maxResult, setMaxResult] = useState('10')\r\n  const [errResult, setErrResult] = useState('')\r\n  useEffect(()=>{\r\n    if(name){\r\n      fetch(`https://www.googleapis.com/books/v1/volumes?q=${name}&maxResults=${maxResult}`)\r\n      .then(response =>{\r\n        if(response.ok){\r\n            return response.json()\r\n        } else {\r\n            return Promise.reject(response)\r\n        }\r\n       })\r\n      .then((result) => {\r\n        setBooks(result.items)\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Błąd pobrania API!\")\r\n      })}\r\n      \r\n  },[name, maxResult])\r\n\r\n\r\n  const search = () =>{\r\n    if(draft){\r\n      setName(draft)\r\n      dMaxResult ? setMaxResult(dMaxResult) : setMaxResult(10)\r\n      setDraft('')\r\n      setDMaxResult('')\r\n      setSearched(true)\r\n    }else{\r\n      setErrDraft('To pole nie może być puste!')\r\n    }\r\n  }\r\n\r\n  const updateDraft = (event) => {\r\n    setDraft(event.target.value)\r\n    setErrDraft('')\r\n  }\r\n\r\n  const updateDResult = (event) => {\r\n    if(event.target.value > 40){\r\n      setDMaxResult(40)\r\n      setErrResult('Maksymalna wartość wynosi 40!')\r\n    }else if(event.target.value < 0){\r\n      setDMaxResult(1)\r\n      setErrResult('Minimalna wartość wynosi 0!')\r\n    }else{\r\n      setDMaxResult(event.target.value)\r\n      setErrResult('')\r\n    }\r\n  }\r\n         {/*W volumeInfo w API są informacje typu title, author. Ja wcześniej robiłem \r\n        books ? books.map((book) => <div>{book.volumeInfo.title} <img src={book.volumeInfo.imageLinks.thumbnail} alt=\"Błąd ładowania obrazka\"/></div>) : '' \r\n        i też działało, ale kolega podpowiedział, że book można pominąć*/}\r\n\r\n  return (\r\n    <div className=\"App\">   \r\n    {/*Mogę dodać coś takiego, że na początku oprócz wyszukiwarki, wyświelta się też, książki o JavaScript i wyświetlić jakieś 5 książek\r\n    Poniżej książki o HTML i wyświetlić 5 książek, a nad tym wszystkim wyszukiwarka i jak coś wyszukam, no to zastępuje te książki\r\n    tymi z wyszukiwania */}\r\n      <Router>\r\n        <div>\r\n          {/* Na github przy Home muszę dać link do /bookSearchingEngine */}\r\n        <Link to=\"/booksSearchingEngine\">Home</Link>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Main updateDraft={updateDraft} draft={draft} search={search} books={books} errResult={errResult} updateDResult={updateDResult} dMaxResult={dMaxResult} errDraft={errDraft} searched={searched}/>\r\n          </Route>\r\n          {/* Dla githubpages, bo tam domyślna ścieżka początkowa jest /booksSearchingEngine */}\r\n          <Route exact path=\"/booksSearchingEngine\">\r\n              <Main updateDraft={updateDraft} draft={draft} search={search} books={books} errResult={errResult} updateDResult={updateDResult} dMaxResult={dMaxResult} errDraft={errDraft} searched={searched}/>\r\n          </Route>\r\n          <Route path=\"/details/:bookId\">\r\n              <Details />\r\n          </Route>  \r\n        </Switch> \r\n        </div>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Basic = (props) =>{\r\n  const [defaultBookJs, setDefaultBookJs] = useState('')\r\n  useEffect(()=>{\r\n      fetch(`https://www.googleapis.com/books/v1/volumes?q=javascript&maxResults=5`)\r\n      .then(response =>{\r\n        if(response.ok){\r\n            return response.json()\r\n        } else {\r\n            return Promise.reject(response)\r\n        }\r\n       })\r\n      .then((result) => {\r\n        setDefaultBookJs(result.items)\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Błąd pobrania API!\")\r\n      })   \r\n  },[])\r\n  /*Pusta tablica jako argument sprawi, że useEffect wywoła się tylko za pierwszym razem */\r\n  return(\r\n    <div>\r\n      {defaultBookJs ? defaultBookJs.map((book) => <div key={book.id}>{book.volumeInfo.title} \r\n          <img src={book.volumeInfo.imageLinks.smallThumbnail} alt=\"Błąd ładowania obrazka\"/>\r\n          <Link to={`/details/${book.id}`}>Details</Link>\r\n       </div>) : '' }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Formularz = (props) =>{\r\n  return(\r\n    <div>\r\n        <input onChange={props.updateDraft} value={props.draft}/>\r\n        {props.errDraft ? props.errDraft : ''}\r\n        <p>Podaj ile książek chcesz wyszukać:</p>\r\n        <input onChange={props.updateDResult} value={props.dMaxResult}/>\r\n        {props.errResult ? props.errResult : ''}\r\n        <button onClick={props.search}>Szukaj</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Books = (props)=>{\r\n  return(\r\n    <div>\r\n       {props.books ? props.books.map((book) => <div key={book.id}>{book.volumeInfo.title} \r\n          <img src={book.volumeInfo.imageLinks.smallThumbnail} alt=\"Błąd ładowania obrazka\"/>\r\n          <Link to={`/details/${book.id}`}>Details</Link>\r\n       </div>) : '' }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Main = (props)=>{\r\n  return(\r\n    <div>\r\n      <Formularz updateDraft={props.updateDraft} draft={props.draft} search={props.search} errResult={props.errResult} updateDResult={props.updateDResult} dMaxResult={props.dMaxResult} errDraft={props.errDraft}/>\r\n      {!props.searched ? <Basic /> : ''}\r\n      <Books books={props.books} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Details = (props) =>{\r\n  let match = useRouteMatch(\"/details/:bookId\");\r\n  const [searchedBook, setSearchedBook] = useState('')\r\n  const [loaded, setLoaded] = useState(false)\r\n  useEffect(()=>{\r\n      fetch(`https://www.googleapis.com/books/v1/volumes?q=${match.params.bookId}`)\r\n      .then(response =>{\r\n        if(response.ok){\r\n            return response.json()\r\n        } else {\r\n            return Promise.reject(response)\r\n        }\r\n       })\r\n      .then((result) => {\r\n        setSearchedBook(result.items)\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Błąd pobrania API!\")\r\n      })\r\n      },[])\r\n\r\n  return(\r\n    <div>\r\n      \r\n      {searchedBook[0]?.volumeInfo.title ? <p>Tytuł: {searchedBook[0]?.volumeInfo.title}</p> : \"\"}\r\n      {searchedBook[0]?.volumeInfo.authors ? <p>Autorzy: {searchedBook[0]?.volumeInfo.authors}</p> : \"\"}\r\n      {searchedBook[0]?.volumeInfo.publisher ? <p>Wydawnictwo: {searchedBook[0]?.volumeInfo.publisher}</p>: \"\"}\r\n      {searchedBook[0]?.volumeInfo.description ? <p>Opis: {searchedBook[0]?.volumeInfo.description}</p> : \"\"}\r\n      {searchedBook[0]?.volumeInfo.publishedDate ? <p>Rok wydania: {searchedBook[0]?.volumeInfo.publishedDate}</p> : \"\"}\r\n      {searchedBook[0]?.volumeInfo.avarageRating ? <p>Średnia ocena: {searchedBook[0]?.volumeInfo.avarageRating}</p> : \"\"}\r\n      {searchedBook[0]?.volumeInfo.imageLinks.thumbnail ? <img src={searchedBook[0]?.volumeInfo.imageLinks.thumbnail} alt=\"Błąd ładowania obrazka\"/> : \"\"}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}